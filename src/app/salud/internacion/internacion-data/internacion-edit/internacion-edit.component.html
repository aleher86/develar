<ng-container *ngIf="showEditor" >

  <ng-container *ngIf="showData">
	<p class='text-resaltado'>Actuallización del Estado de Internación</p>
	<p class='text-resaltado'>Locación: {{ locacion.code }}</p>
	<p class='text-resaltado'>Afectado/a: {{ personSlug }}</p>
	<p class='text-resaltado'>Servicio: {{ servicioLabel }} </p>
	<hr>
	<p class='text-resaltado'>Indique nuevo estado</p>
  </ng-container>
	
  <form [formGroup]="form">
    <div class="row">
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <mat-select #fldServicio placeholder="Servicio de internación buscado" 
                        [formControl]="form.controls['servicio']"
                        (selectionChange)="changeSelectionValue('servicio',fldServicio.value)">
            <mat-option *ngFor="let item of servicioOptList" [value]="item.val">{{ item.label }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>


      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <mat-select #fldRecursoHsp placeholder="Seleccione recurso " [formControl]="form.controls['recursoId']"
            (selectionChange)="changeRecursoSelection('recurso',fldRecursoHsp.value)">
            <mat-option *ngFor="let item of recursosOptList" [value]="item._id">{{ item.slug }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <input matInput [formControl]="form.controls['sector']" placeholder="Sector/Área">
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <input matInput [formControl]="form.controls['piso']" placeholder="Piso/Nivel">
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <input matInput [formControl]="form.controls['hab']" placeholder="hab">
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <input matInput [formControl]="form.controls['camaCode']" placeholder="camaCode">
        </mat-form-field>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <mat-form-field>
          <input matInput [formControl]="form.controls['slug']" placeholder="Instrucción de internación">
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-6">
        <mat-form-field>
          <textarea matInput [formControl]="form.controls['description']" 
                    placeholder="Descripción"></textarea>
        </mat-form-field>
      </div>
    </div>

    <hr>


<!--
      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <mat-select #fldServicio placeholder="Servicio de internación buscado" 
                        [formControl]="form.controls['servicio']"
                        (selectionChange)="changeSelectionValue('servicio',fldServicio.value)">
            <mat-option *ngFor="let item of servicioOptList" [value]="item.val">{{ item.label }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-sm-12 col-md-3">
        <mat-form-field>
          <mat-select #fldEspecialidad placeholder="Especialidad médica" 
                        [formControl]="form.controls['especialidad']"
                        (selectionChange)="changeSelectionValue('especialidad',fldEspecialidad.value)">
            <mat-option *ngFor="let item of especialidadOptList" [value]="item.val">{{ item.label }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

-->
    <div class="additional-info">
      <div class="row">
        <div class="col-sm-12 col-md-6">
          <mat-form-field>
            <mat-select #fldTranitType placeholder="Tipo de TRANSITO" 
                          [formControl]="form.controls['transitType']"
                          (selectionChange)="changeSelectionValue('transitType',fldTranitType.value)">
              <mat-option *ngFor="let item of tranitTypeOptList" 
                          [value]="item.val">{{ item.actionLabel }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>



      <button mat-raised-button color="primary"
          (click)="onSubmit()"
          [disabled]="!form.valid">Confirmar nuevo estado de internación</button>

      <button mat-button type="button" color="accent" 
              (click)="cancel()">Cancelar</button>
    </div>

  </form>
</ng-container>