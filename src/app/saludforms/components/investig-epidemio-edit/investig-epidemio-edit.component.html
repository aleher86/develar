<mat-card >
<mat-card-content>
  <form [formGroup]="form">
	<mat-tab-group>

		<mat-tab label="Investigación Epidemiológica">
			<div class="container tab-container">

			<div class="row">
			  <div class="col-md-3 d-flex align-items-center">
			    <span class="text-normal">Estado actual COVID</span>
			  </div>
	    	<div class="col d-flex align-items-center">
	    		<span class="text-normal">{{ estadoActualCovid }}</span>
	    	</div>
	
		    <!-- div class="col d-flex align-items-center">
		      <mat-radio-group  formControlName="actualState" aria-label="Estado actual">
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===6" 
		              (change)='changeActualState(6)'
		              [value]="6">En monitoreo</mat-radio-button>
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===0" 
		              (change)='changeActualState(0)'
		              [value]="0">Sospecha</mat-radio-button>
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===1" 
		              (change)='changeActualState(1)'
		              [value]="1">COVID confirmado</mat-radio-button>
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===2" 
		              (change)='changeActualState(2)'
		              [value]="2">Descartado</mat-radio-button>
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===4" 
		              (change)='changeActualState(4)'
		              [value]="4">Fallecido</mat-radio-button>
		        <mat-radio-button 
		              [checked]="form.controls['actualState'].value===5" 
		              (change)='changeActualState(5)'
		              [value]="5">Alta</mat-radio-button>
		      </mat-radio-group>
		    </div -->
		  </div>

			<div class="row">
			  <div class="col-md-3 d-flex align-items-center">
			    <span class="text-normal">Caso EPIDEMIOLÓGICO</span>
			  </div>

				<div class="col-md-4 d-flex align-items-center">
					<mat-form-field>
						<mat-label>Caso epidemiológico</mat-label>
						<mat-select #fldAvanceCovid  formControlName='avanceCovid'
												(selectionChange)="changeSelectionValue('avanceCovid', fldAvanceCovid.value)">

						    <mat-optgroup [disabled]="!avanceCovidOptList.length" [label]="'Tipificación de casos'">
						        <mat-option *ngFor="let item of avanceCovidOptList" [value]="item.val">
						            {{ item.label }} 
						        </mat-option>
						    </mat-optgroup>

						</mat-select>
					</mat-form-field>
				</div>
			</div>

			<hr>
	    <div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-resaltado">SÍNTOMAS</span>
	      </div>
	    </div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">Estado de síntomas</span>
	      </div>
        <div class="col-md-4 d-md-flex justify-content-start align-items-center" 
            title="Tiene síntomas en este momento">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasSintomas']" >
                    ¿Tiene síntomas en este momento?</mat-checkbox>
        </div>

			  <div class="col-md-3">
			    <mat-form-field>
			      <input  matInput  
			              formControlName="fe_inicio" placeholder="Fecha inicio síntomas" >
			    </mat-form-field>
			  </div>

			</div>

	    <div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">¿Tiene/ tuvo 37.5+ de fiebre?</span>
	      </div>
	      <div class="col-md-5 d-flex align-items-center">
	        <mat-radio-group  formControlName="fiebreRB" aria-label="Signo de fiebre en los últimos 14 días">
	          <mat-radio-button 
	                [checked]="form.controls['fiebreRB'].value===1" 
	                value="1">Verificó fiebre</mat-radio-button>
	          <mat-radio-button 
	                [checked]="form.controls['fiebreRB'].value===2" 
	                value="2">Cree que tuvo</mat-radio-button>
	          <mat-radio-button 
	                [checked]="form.controls['fiebreRB'].value===3" 
	                value="3" >No tuvo fiebre</mat-radio-button>
	        </mat-radio-group>
	      </div>

	      <div class="col-md-1">
	        <mat-form-field>
	          <input  matInput type="number" min="35" max="44" 
	                  formControlName="fiebre" placeholder="Fiebre verificada en grados" >
	        </mat-form-field>
	      </div>

	    </div>

	    <div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">¿Tiene/ tuvo alguno de estos síntomas?</span>
	      </div>

	      <div class="col-md-2 d-flex align-items-center" 
	          title="Neumonía diagnosticada como COVID-19">
	          <mat-checkbox 
	                [checked]="form.controls['hasNeumonia'].value===true"
	                [formControl]="form.controls['hasNeumonia']" >
	                  Neumonía</mat-checkbox>
	      </div>

	      <div class="col-md-2 d-flex align-items-center" 
	          title="Dificultad respiratoria, falta de aire al respirar">
	          <mat-checkbox 
	                [checked]="form.controls['hasDifRespiratoria'].value===true"
	                [formControl]="form.controls['hasDifRespiratoria']" >
	                  Dificultad respiratoria</mat-checkbox>
	      </div>

	      <div class="col-md-2 d-flex align-items-center" 
	           title="Tos y/o dolor de garganta reciente">
	          <mat-checkbox 
	                [checked]="form.controls['hasDolorGarganta'].value===true"
	                [formControl]="form.controls['hasDolorGarganta']" >
	                  Tos o Dolor de garganta
	                </mat-checkbox>
	      </div>


	      <div class="col-md-2 d-flex align-items-center" 
	          title="Dificultad respiratoria, falta de aire al respirar">
	          <mat-checkbox 
	                [checked]="form.controls['hasDolorCabeza'].value===true"
	                [formControl]="form.controls['hasDolorCabeza']" >
	                  Dolor de cabeza</mat-checkbox>
	      </div>
	    </div>

	    <div class="row">
	      <div class="offset-md-3 col-md-3 d-flex align-items-center" >
	          <mat-checkbox 
	                [checked]="form.controls['hasDiarrea'].value===true"
	                [formControl]="form.controls['hasDiarrea']" >
	                  Náuseas, vómitos, diarrea
	                </mat-checkbox>
	      </div>

	      <div class="col-md-3 d-flex align-items-center"
	      			title="Pérdida súbita sentido del gusto (DISGEUSIA)">
	          <mat-checkbox 
	                [checked]="form.controls['hasFaltaGusto'].value===true"
	                [formControl]="form.controls['hasFaltaGusto']" >
	                  Pérdida súbita sentido del gusto
	                </mat-checkbox>
	      </div>
	      <div class="col-md-3 d-flex align-items-center"
	      			title="Dificultad respiratoria, falta de aire al respirar" >
	          <mat-checkbox 
	                [checked]="form.controls['hasFaltaOlfato'].value===true"
	                [formControl]="form.controls['hasFaltaOlfato']" >
	                  Pérdida súbita de olfato 
	                </mat-checkbox>
	      </div>
	    </div>

	    <div class="row">
	      <div class="offset-md-3 col-md-8">

	        <mat-form-field>
	          <input  matInput  
	                  formControlName="sintomas" placeholder="Describa otros síntomas" >
	        </mat-form-field>
	      </div>

	    </div>


			<hr>
	    <div class="row">
	      <div class="col-md-12 d-flex align-items-center">
	        <span class="text-resaltado">COMORBILIDADES</span>
	      </div>
	    </div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">Comorbilidades</span>
	      </div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Tinene diabetes">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasDiabetes']" >
                    ¿Diabetes?</mat-checkbox>
        </div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Tinene hipertensión areterial">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasHta']" >
                    ¿HTA?</mat-checkbox>
        </div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Tiene problemas de obesidad">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasObesidad']" >
                    ¿Obesidad?</mat-checkbox>
        </div>
        <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Tinene hipertensión areterial">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasCardio']" >
                    ¿Enferm cardiovascular?</mat-checkbox>
        </div>
      </div>

      <div class="row">
        <div class="offset-md-3 col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Tinene enfermedad pulmonar crónica">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasPulmonar']" >
                    ¿Enferm pulmonar?</mat-checkbox>
        </div>
        <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Tinene alguna otra enfermedad crónica grave">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasCronica']" >
                    ¿Otra enfermedad crónica?</mat-checkbox>
        </div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Es o ha sido fumador">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasFumador']" >
                    ¿Es/ha sido fumador?</mat-checkbox>
        </div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Está embarazada en este momento">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasEmbarazo']" >
                    ¿Está embarazada?</mat-checkbox>
        </div>
      </div>

      <div class="row">
			  <!--div class="col-md-3 d-flex align-items-center">
			    <span class="text-normal"></span>
			  </div-->
	      <div class="offset-md-3 col-md-8">
	        <mat-form-field>
	          <input  matInput 
	                  formControlName="comorbilidad" placeholder="Otras comorbilidades" >
	        </mat-form-field>
	      </div>
      	
      </div>

	    <div class="row">
	      <div class="col-md-12 d-flex align-items-center">
	        <span class="text-resaltado">ESTADO ACTUAL</span>
	      </div>
	    </div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">Estado del paciente</span>
	      </div>

	      <div class="col-md-4">
	        <mat-form-field>
	          <mat-select #fldSintoma placeholder="Estado del paciente"
	              [formControl]="form.controls['sintoma']"
	              (selectionChange)="changeSelectionValue('sintoma',fldSintoma.value)" >
	            <mat-option *ngFor="let item of sintomaOptList" 
	              [value]="item.val" >{{ item.label }}</mat-option>
	          </mat-select>
	        </mat-form-field>
	      </div>

	      <div class="col-md-3">
	        <mat-form-field>
	          <input  matInput 
	                  formControlName="fe_prevAlta" placeholder="Fecha proyectada de Alta" >
	        </mat-form-field>
	      </div>
	    </div>
	    <div class="row">
			  <div class="col-md-8">
			    <mat-form-field>
			      <input  matInput  
			              formControlName="derivacionSlug" placeholder="Otras observaciones" >
			    </mat-form-field>
			  </div>
			</div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">Tipo de trabajo</span>
	      </div>

	      <div class="col-md-4">
	        <mat-form-field>
	          <mat-select #fldTrabajo placeholder="Trabaja en..."
	              [formControl]="form.controls['trabajo']"
	              (selectionChange)="changeSelectionValue('trabajo',fldTrabajo.value)" >
	            <mat-option *ngFor="let item of trabajoOptList" 
	              [value]="item.val" >{{ item.label }}</mat-option>
	          </mat-select>
	        </mat-form-field>
	      </div>

			  <div class="col-md-3">
			    <mat-form-field>
			      <input  matInput  
			              formControlName="trabajoSlug" placeholder="Lugar de Trabajo" >
			    </mat-form-field>
			  </div>
			</div>

			<hr>
	    <div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-resaltado">INTERNACIÓN / DERIVACIÓN</span>
	      </div>
	    </div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">Internación</span>
	      </div>

        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="Es o ha sido fumador">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['isInternado']" >
                    ¿Está aislado?</mat-checkbox>
        </div>
	      <div class="col-md-4">
	        <mat-form-field>
	          <mat-select #fldTinternacion placeholder="Tipo de internación"
	              [formControl]="form.controls['tinternacion']"
	              (selectionChange)="changeSelectionValue('tinternacion',fldTinternacion.value)" >
	            <mat-option *ngFor="let item of tinternacionOptList" 
	              [value]="item.val" >{{ item.label }}</mat-option>
	          </mat-select>
	        </mat-form-field>
	      </div>

			  <div class="col-md-3">
			    <mat-form-field>
			      <input  matInput  
			              formControlName="internacionSlug" placeholder="Lugar de internación" >
			    </mat-form-field>
			  </div>

			</div>

			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">¿Requiere internación?</span>
	      </div>

	      <div class="col-md-4">
	        <mat-form-field>
	          <mat-select #fldDerivacion placeholder="Derivación de internación a..."
	              [formControl]="form.controls['derivacion']"
	              (selectionChange)="changeSelectionValue('derivacion',fldDerivacion.value)" >
	            <mat-option *ngFor="let item of derivacionOptList" 
	              [value]="item.val" >{{ item.label }}</mat-option>
	          </mat-select>
	        </mat-form-field>
	      </div>
			</div>
      <hr>
	    <div class="row">
	      <div class="col-md-12">
					<vigil-altavinculo-base  [asistencia]='token'  ></vigil-altavinculo-base>
	      </div>
	    </div>

      <hr>
	    
	    <div class="row" >
	      <div class="col">
	        <mat-form-field>
	          <textarea matInput [formControl]="form.controls['description']" placeholder="Observaciones / Comentario" >
	          </textarea> 
	        </mat-form-field>
	      </div>
	    </div>


      <div class="row" >
        <div class="col-md-3 offset-md-1">
          <mat-form-field>
            <mat-select #fldUserId placeholder="Informe elaborado por:"
                [formControl]="form.controls['userId']"
                (selectionChange)="changeSelectionValue('userId',fldUserId.value)" >
              <mat-option *ngFor="let item of usersOptList" 
                [value]="item.val" >{{ item.label }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

		<div class="col-md-3">
		<mat-form-field>
			<input  matInput  
					formControlName="fe_investig" placeholder="Fecha elaboración informe" >
		</mat-form-field>
		</div>
        <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
            title="¿Informe concluido?">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['hasInvestigacion']" >
                    Informe concluido</mat-checkbox>
        </div>


        <div class="col-md-3 d-flex align-items-center">
                <p><span class="text-normal">Asignado inicial: {{ asignadoInicial }}</span></p>
		</div>

      </div>



	  	</div>
			</mat-tab>
		</mat-tab-group>
	</form>


	<div class="novedades-container">
		<div class="additional-info">
      <button mat-raised-button color="primary" type="submit" 
          (click)="onSubmit()"
          [disabled]="!form.valid" >CONFIRMAR INFORME</button>
      
      <button mat-button type="button" color="accent"
          (click)="onCancel()" >Cancelar|Siguiente</button>

		</div>
	</div>

</mat-card-content>
</mat-card>

<!--
	    <div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-resaltado">CONTEXTO LABORAL</span>
	      </div>
	    </div>

			    <div class="row">
			      <div class="col-md-3 d-flex align-items-center">
			        <span class="text-normal">¿Es trabajador/a esencial?</span>
			      </div>
			      <div class="col-md-9 d-flex align-items-center" >
			          <mat-checkbox 
			                [checked]="form.controls['hasTrabajoSalud'].value===true"
			                (change)="changeSalud()"
			                [formControl]="form.controls['hasTrabajoSalud']" >
			                Es personal esencial (médicx, enfermerx, camillerx, fuerzas de seguridad, asistencia a mayores o niños etc.)
			                </mat-checkbox>
			      </div>
			    </div>

			    <div *ngIf="showAmbitoLaboral" class="row">
			      <div class="col-md-3 d-flex align-items-center">
			        <span class="text-normal">¿Su ámbito laboral es en...?</span>
			      </div>
			      <div class="col-md-2 d-flex align-items-center" >
			          <mat-checkbox 
			                [checked]="form.controls['hasTrabajoAdulMayores'].value===true"
			                [formControl]="form.controls['hasTrabajoAdulMayores']" >
			                  Residen Adul Mayores
			                </mat-checkbox>
			      </div>
			      <div class="col-md-2 d-flex align-items-center" >
			          <mat-checkbox 
			                [checked]="form.controls['hasTrabajoHogares'].value===true"
			                [formControl]="form.controls['hasTrabajoHogares']" >
			                  Hogar de niños/as
			                </mat-checkbox>
			      </div>
			      <div class="col-md-2 d-flex align-items-center" >
			          <mat-checkbox 
			                [checked]="form.controls['hasTrabajoHospitales'].value===true"
			                [formControl]="form.controls['hasTrabajoHospitales']" >
			                  Neuropsiquiátricos
			                </mat-checkbox>
			      </div>
			      <div class="col-md-3 d-flex align-items-center" >
			          <mat-checkbox 
			                [checked]="form.controls['hasTrabajoPolicial'].value===true"
			                [formControl]="form.controls['hasTrabajoPolicial']" >
			                  Penitenciaría / comisaría
			                </mat-checkbox>
			      </div>
			    </div>

			    <div class="row">
			      <div class="col-md-3 d-flex align-items-center">
			        <span class="text-normal">¿Refiere otras situaciones?</span>
			      </div>
			      <div class="col-md-8">
			        <mat-form-field>
			          <input  matInput  
			                  formControlName="contexto" placeholder="Describa su contexto" >
			        </mat-form-field>
			      </div>

			    </div>


			<div class="row">
	      <div class="col-md-3 d-flex align-items-center">
	        <span class="text-normal">¿Requiere derivación a otras áreas?</span>
	      </div>
        <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Salud mental">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['derivaSaludMental']" >
                    Área de Salud Mental</mat-checkbox>
        </div>

        <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Desarrollo Social">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['derivaDesarrollo']" >
                    Área de Desarrollo Social</mat-checkbox>
        </div>

        <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Solicitud de hisopado">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['derivaHisopado']" >
                    Solicitud de Hisopado</mat-checkbox>
        </div>
      </div>

    	<div class='row'>
        <div class="offset-md-3 col-md-3 d-md-flex justify-content-start align-items-center" 
            title="Solicitud de hisopado">
            <mat-checkbox class="mat-checkbox-wrap"
                  [checked]="true"
                  [formControl]="form.controls['derivaOtro']" >
                    Otra clase de derivación</mat-checkbox>
				</div>
        
      </div>


<fin-->
