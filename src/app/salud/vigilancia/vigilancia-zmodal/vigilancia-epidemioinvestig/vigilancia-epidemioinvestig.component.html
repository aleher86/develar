<div class="container-fluid view-port">
<form [formGroup]="form">

  <div class="row">
    <div class="col-md-3 d-flex align-items-center">
      <span class="text-resaltado">SÍNTOMAS</span>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-2 d-flex align-items-center">
      <span class="text-normal">Estado de síntomas</span>
    </div>
    <div class="col-md-3 d-md-flex justify-content-start align-items-center" 
      title="Tiene síntomas en este momento">
      <mat-checkbox class="mat-checkbox-wrap"
            [checked]="true"
            [formControl]="form.controls['hasSintomas']" >
              ¿Tiene síntomas en este momento?</mat-checkbox>
    </div>
    <div class="col-md-3">
      <mat-form-field>
        <input  matInput  
                formControlName="fe_inicio" placeholder="Fecha inicio síntomas" >
      </mat-form-field>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-2 d-flex align-items-center">
      <span class="text-normal">¿Tiene/ tuvo 37.5+ de fiebre?</span>
    </div>
    <div class="col-md-4 d-flex align-items-center">
      <mat-radio-group  formControlName="fiebreRB" aria-label="Signo de fiebre en los últimos 14 días">
        <mat-radio-button 
              [checked]="form.controls['fiebreRB'].value===1" 
              value="1">Verificó fiebre</mat-radio-button>
        <mat-radio-button 
              [checked]="form.controls['fiebreRB'].value===2" 
              value="2">Cree que tuvo</mat-radio-button>
        <mat-radio-button 
              [checked]="form.controls['fiebreRB'].value===3" 
              value="3" >No tuvo fiebre</mat-radio-button>
      </mat-radio-group>
    </div>

    <div class="col-md-2">
      <mat-form-field>
        <input  matInput type="number" min="35" max="44" 
                formControlName="fiebre" placeholder="Fiebre verificada en grados" >
      </mat-form-field>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-2 d-flex align-items-center">
      <span class="text-normal">¿Tiene/ tuvo alguno de estos síntomas?</span>
    </div>

    <div class="col-md-7" 
        title="Neumonía diagnosticada como COVID-19">
        <mat-checkbox class="mat-checkbox-wrap m-2"
              [checked]="form.controls['hasNeumonia'].value===true"
              [formControl]="form.controls['hasNeumonia']" >
                Neumonía</mat-checkbox>

        <mat-checkbox class="mat-checkbox-wrap m-2"
            [checked]="form.controls['hasDifRespiratoria'].value===true"
            [formControl]="form.controls['hasDifRespiratoria']" >
              Dificultad respiratoria</mat-checkbox>
        <mat-checkbox class="mat-checkbox-wrap m-2"
              [checked]="form.controls['hasDolorGarganta'].value===true"
              [formControl]="form.controls['hasDolorGarganta']" >
                Tos o Dolor de garganta</mat-checkbox>
        <mat-checkbox class="mat-checkbox-wrap m-2"
              [checked]="form.controls['hasDolorCabeza'].value===true"
              [formControl]="form.controls['hasDolorCabeza']" >
                Dolor de cabeza</mat-checkbox>
        <mat-checkbox class="mat-checkbox-wrap m-2"
                [checked]="form.controls['hasDiarrea'].value===true"
                [formControl]="form.controls['hasDiarrea']" >
                Náuseas, vómitos, diarrea</mat-checkbox>
        
        <mat-checkbox class="mat-checkbox-wrap m-2"
                [checked]="form.controls['hasFaltaGusto'].value===true"
                [formControl]="form.controls['hasFaltaGusto']" >
                  Pérdida súbita sentido del gusto</mat-checkbox>
        <mat-checkbox class="mat-checkbox-wrap m-2"
                  [checked]="form.controls['hasFaltaOlfato'].value===true"
                  [formControl]="form.controls['hasFaltaOlfato']" >
                    Pérdida súbita de olfato </mat-checkbox>
    </div>
  </div>

  <div class="row">
    <div class="offset-md-2 col-md-6">
      <mat-form-field>
        <input  matInput  
                formControlName="sintomas" placeholder="Describa otros síntomas" >
      </mat-form-field>
    </div>
  </div>


  <div class="row">
    <div class="col-md-12 d-flex align-items-center">
      <span class="text-resaltado">COMORBILIDADES</span>
    </div>
  </div>
  <div class="row">
    <div class="col-md-9 md-2" 
      title="Tinene diabetes">
      <mat-checkbox class="mat-checkbox-wrap m-2"
            [checked]="true"
            [formControl]="form.controls['hasDiabetes']" >
              ¿Diabetes?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
              [checked]="true"
              [formControl]="form.controls['hasHta']" >
                ¿HTA?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                [checked]="true"
                [formControl]="form.controls['hasObesidad']" >
                  ¿Obesidad?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                  [checked]="true"
                  [formControl]="form.controls['hasCardio']" >
                    ¿Enferm cardiovascular?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                  [checked]="true"
                  [formControl]="form.controls['hasPulmonar']" >
                    ¿Enferm pulmonar?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                  [checked]="true"
                  [formControl]="form.controls['hasCronica']" >
                    ¿Otra enfermedad crónica?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                    [checked]="true"
                    [formControl]="form.controls['hasFumador']" >
                      ¿Es/ha sido fumador?</mat-checkbox>
      <mat-checkbox class="mat-checkbox-wrap m-2"
                      [checked]="true"
                      [formControl]="form.controls['hasEmbarazo']" >
                        ¿Está embarazada?</mat-checkbox>
                                            
    </div>
  </div>

  <div class="row">
    <div class="offset-md-1 col-md-6">
      <mat-form-field>
        <input  matInput 
                formControlName="comorbilidad" placeholder="Otras comorbilidades" >
      </mat-form-field>
    </div>
  </div>


  <div class="row">
    <div class="col-md-12 d-flex align-items-center">
      <span class="text-resaltado">ESTADO ACTUAL DEL AFECTADO/A</span>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <mat-form-field>
        <mat-select #fldSintoma placeholder="Estado del paciente"
            [formControl]="form.controls['sintoma']"
            (selectionChange)="changeSelectionValue('sintoma',fldSintoma.value)" >
          <mat-option *ngFor="let item of sintomaOptList" 
            [value]="item.val" >{{ item.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-3">
      <mat-form-field>
        <input  matInput 
                formControlName="fe_prevAlta" placeholder="Fecha proyectada de Alta" >
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
          <mat-form-field>
            <input  matInput  
                    formControlName="derivacionSlug" placeholder="Otras observaciones" >
          </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 d-flex align-items-center">
      <span class="text-normal">Datos laborales</span>
    </div>

    <div class="col-md-3">
      <mat-form-field>
        <mat-select #fldTrabajo placeholder="Trabaja en..."
            [formControl]="form.controls['trabajo']"
            (selectionChange)="changeSelectionValue('trabajo',fldTrabajo.value)" >
          <mat-option *ngFor="let item of trabajoOptList" 
            [value]="item.val" >{{ item.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-3">
          <mat-form-field>
            <input  matInput  
                    formControlName="trabajoSlug" placeholder="Lugar de Trabajo" >
          </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 d-flex align-items-center">
      <span class="text-resaltado">ESTADO DE INTERNACIÓN / DERIVACIÓN</span>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
      title="El paciente se encuentra internado / ailslado">
      <mat-checkbox class="mat-checkbox-wrap"
            [checked]="true"
            [formControl]="form.controls['isInternado']" >
              ¿Está aislado?</mat-checkbox>
    </div>
    <div class="col-md-3">
      <mat-form-field>
        <mat-select #fldTinternacion placeholder="Tipo de internación"
            [formControl]="form.controls['tinternacion']"
            (selectionChange)="changeSelectionValue('tinternacion',fldTinternacion.value)" >
          <mat-option *ngFor="let item of tinternacionOptList" 
            [value]="item.val" >{{ item.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-3">
      <mat-form-field>
        <input  matInput  
                formControlName="internacionSlug" placeholder="Lugar de internación" >
      </mat-form-field>
    </div>

  </div>

  <div class="row">
    <div class="col-md-2 d-flex align-items-center">
      <span class="text-normal">¿Requiere internación?</span>
    </div>

    <div class="col-md-3">
      <mat-form-field>
        <mat-select #fldDerivacion placeholder="Derivación de internación a..."
            [formControl]="form.controls['derivacion']"
            (selectionChange)="changeSelectionValue('derivacion',fldDerivacion.value)" >
          <mat-option *ngFor="let item of derivacionOptList" 
            [value]="item.val" >{{ item.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  
  <div class="row" >
    <div class="col-md-12">
      <mat-form-field>
        <textarea matInput [formControl]="form.controls['description']" placeholder="Observaciones generales / Comentario" >
        </textarea> 
      </mat-form-field>
    </div>
  </div>


  <div class="row" >
    <div class="col-md-2">
      <mat-form-field>
        <mat-select #fldUserId placeholder="Informe elaborado por:"
            [formControl]="form.controls['userId']"
            (selectionChange)="changeSelectionValue('userId',fldUserId.value)" >
          <mat-option *ngFor="let item of usersOptList" 
            [value]="item.val" >{{ item.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-3">
    <mat-form-field>
        <input  matInput  
                formControlName="fe_investig" placeholder="Fecha elaboración informe" >
    </mat-form-field>
    </div>
    <div class="col-md-2 d-md-flex justify-content-start align-items-center" 
        title="¿Informe concluido?">
        <mat-checkbox class="mat-checkbox-wrap"
              [checked]="true"
              [formControl]="form.controls['hasInvestigacion']" >
                Informe concluido</mat-checkbox>
    </div>


  </div>
  <div class="row">
    <div class="col-md-6 ">
      <p><span class="text-normal">Asignado inicial: {{ asignadoInicial }}</span></p>
    </div>
  </div>

  <div class="novedades-container">
    <div class="additional-info">
      <button mat-raised-button color="primary" type="submit" 
        (click)="onSubmit()"
       [disabled]="!form.valid || formClosed">CONFIRMAR INFORME</button>
  
      <button mat-button type="button" color="accent"
      (click)="onCancel()" >Cancelar|Siguiente</button>
  
    </div>
  </div>

</form>
</div>


